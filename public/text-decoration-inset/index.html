<!DOCTYPE html>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>text-decoration-inset demos</title>
<style>
  html {
    background: rgb(34, 34, 34);
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
      Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue',
      sans-serif;
    text-align: center;
  }
  body {
    margin: 80px;
    display: grid;
    gap: 30px;
  }
  .demo {
    font-size: 48px;
    font-weight: bold;
    color: white;
    text-decoration: underline;
    text-decoration-color: orange;
    text-decoration-thickness: 6px;
    transition: text-decoration-inset 0.6s ease;
  }
  .inwards {
    text-decoration-inset: 2ch;
  }
  .outwards {
    text-decoration-inset: -1.5ch;
  }
  .both {
    text-decoration-inset: -1.5ch 1ch;
  }

  .funky-heading {
    font-size: 48px;
    font-weight: bold;
    color: white;
    text-decoration: underline;
    text-decoration-color: white;
    text-decoration-thickness: 5px;
    transition: all 0.6s ease;
    text-underline-offset: 5px;
    text-decoration-skip-ink: none;
    text-decoration-inset: 0 0;

    &.active {
      text-underline-offset: -8.1px;
      text-decoration-inset: 0.6ch -0.9ch;
      text-decoration-thickness: 18px;
      text-decoration-color: #00abffb5;
    }
  }

  .deleted {
    font-size: 48px;
    font-weight: bold;
    color: white;
    transition: all 0.6s ease;
    text-decoration-inset: 0 0;
    width: fit-content;
    margin: 0 auto;
    position: relative;
    text-decoration: line-through;
    text-decoration-color: currentcolor;
    text-decoration-thickness: auto;
    text-decoration-color: #ff0000a6;
    text-decoration-thickness: 19px;

    &.active {
      text-decoration-inset: -0.6ch;
    }
  }

  .link {
    font-size: 48px;
    font-weight: bold;
    color: #60a5fa;
    transition: all 0.6s ease;
    text-decoration: underline;
    text-decoration-thickness: 4px;
    text-underline-offset: 4px;
    text-decoration-inset: 3ch;

    &:not(.active) {
      text-decoration-color: transparent;
    }

    &.active {
      text-decoration-inset: 0;
    }
  }
</style>

<div class="demo">Moving insets</div>

<div class="funky-heading activatable">Funky heading</div>

<div class="deleted activatable">DELETED</div>

<div class="link activatable">Another page</div>

<script>
  {
    const demo = document.querySelector('.demo');
    const classes = ['', 'inwards', 'outwards', 'both'];
    let currentIndex = 0;

    demo.addEventListener('click', () => {
      demo.className = 'demo';
      currentIndex = (currentIndex + 1) % classes.length;
      if (classes[currentIndex]) {
        demo.classList.add(classes[currentIndex]);
      }
    });
  }

  for (const el of document.querySelectorAll('.activatable')) {
    el.addEventListener('click', () => {
      el.classList.toggle('active');
    });
  }
</script>
